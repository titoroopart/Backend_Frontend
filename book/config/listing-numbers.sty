\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{listing-numbers}[2024/06/20 Numeraci贸n para listings]

\RequirePackage{listings}
\RequirePackage{xcolor}

% Configuraci贸n segura para Bash (versi贸n corregida)
\lstdefinestyle{safebash}{
    alsoletter={-,\,/,=,~,*},
    sensitive=false,
    literate=
        {/}{{\textnormal{/}}}1
        {~}{{\textasciitilde}}1
        {*}{{*}}1
        {\$}{\$}1,  % Correcci贸n clave: sin llaves adicionales
    basicstyle=\ttfamily\small,
    breaklines=true
}

% Estilo numerado
\lstdefinestyle{numberedstyle}{
    style=safebash,
    numbers=left,
    numberstyle=\tiny\color{gray},
    numbersep=8pt,
    xleftmargin=18pt,
    framexleftmargin=14pt,
    postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
    frame=single,
    rulecolor=\color{gray!30}
}

\newcommand{\enablenumbering}{\lstset{style=numberedstyle}}
\newcommand{\disablenumbering}{\lstset{numbers=none}}

\endinput
